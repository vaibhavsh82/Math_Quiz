<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Olympiad Practice Quiz — 20 mins</title>
  <style>
    :root{--bg:#f7fafc;--card:#fff;--accent:#0f172a}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:#0b1220;margin:0;padding:20px}
    .container{max-width:900px;margin:16px auto;background:var(--card);padding:20px;border-radius:12px;box-shadow:0 6px 24px rgba(9,30,66,0.08)}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{font-size:1.25rem;margin:0}
    .meta{font-size:0.95rem;color:#334155}
    .timer{font-weight:700;color:#b91c1c}
    .question{margin-top:18px;padding:14px;border-radius:8px;border:1px solid #eef2f7}
    .qtxt{font-weight:600}
    .options{margin-top:8px;display:flex;flex-direction:column;gap:8px}
    label{display:flex;align-items:center;gap:10px;padding:8px;border-radius:8px;border:1px solid transparent}
    input[type="radio"]{transform:scale(1.05)}
    .actions{display:flex;gap:10px;align-items:center;margin-top:18px}
    button{background:#0b69ff;color:white;padding:10px 14px;border-radius:8px;border:0;cursor:pointer;font-weight:600}
    button.secondary{background:#e2e8f0;color:#0b1220}
    .share{background:#10b981;color:white;padding:10px 14px;border-radius:8px;border:0;cursor:pointer;font-weight:600}
    .result{margin-top:16px;padding:12px;border-radius:8px;background:#f1f5f9}
    .correct{color:green;font-weight:700}
    .wrong{color:#b91c1c;font-weight:700}
    footer{margin-top:18px;font-size:0.9rem;color:#475569}
    .share-overlay{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:999}
    .share-card{background:white;padding:18px;border-radius:10px;max-width:520px;width:90%;box-shadow:0 10px 30px rgba(2,6,23,0.2)}
    .share-input{width:100%;padding:8px;border-radius:6px;border:1px solid #e2e8f0;margin-top:8px}
    .muted{color:#64748b}
    @media (max-width:600px){body{padding:12px}.container{padding:12px}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Olympiad Practice Quiz — 20 Questions</h1>
        <div class="meta">Topics: Computation • Fractions & Decimals • Perimeter & Area • Data Handling • Logical Reasoning</div>
      </div>
      <div style="text-align:right">
        <div class="meta">Time left</div>
        <div class="timer" id="timer">20:00</div>
      </div>
    </header>

    <div style="margin:10px 0;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
      <button class="share" id="shareBtn">Get Shareable Link</button>
      <button class="secondary" id="hostBtn" title="Optional">Host on GitHub Pages (instructions)</button>
      <span id="shareMsg" style="margin-left:10px;color:#0b1220;font-size:0.9rem"></span>
    </div>

    <form id="quizForm" aria-label="Olympiad Quiz">
      <!-- Full 20 questions -->

      <!-- 1 -->
      <div class="question" id="q1">
        <div class="qtxt">1. The value of <strong>125 ÷ 5 × 8 – 20</strong> is:</div>
        <div class="options">
          <label><input type="radio" name="q1" value="A"> A) 160</label>
          <label><input type="radio" name="q1" value="B"> B) 180</label>
          <label><input type="radio" name="q1" value="C"> C) 200</label>
          <label><input type="radio" name="q1" value="D"> D) 220</label>
        </div>
      </div>

      <!-- 2 -->
      <div class="question" id="q2">
        <div class="qtxt">2. If 35% of a number is 84, what is the number?</div>
        <div class="options">
          <label><input type="radio" name="q2" value="A"> A) 200</label>
          <label><input type="radio" name="q2" value="B"> B) 210</label>
          <label><input type="radio" name="q2" value="C"> C) 220</label>
          <label><input type="radio" name="q2" value="D"> D) 240</label>
        </div>
      </div>

      <!-- 3 -->
      <div class="question" id="q3">
        <div class="qtxt">3. Simplify <strong>5/6 + 3/8</strong> (write as a fraction):</div>
        <div class="options">
          <label><input type="radio" name="q3" value="A"> A) 29/24</label>
          <label><input type="radio" name="q3" value="B"> B) 1 5/24</label>
          <label><input type="radio" name="q3" value="C"> C) 1 1/24</label>
          <label><input type="radio" name="q3" value="D"> D) 23/24</label>
        </div>
      </div>

      <!-- 4 -->
      <div class="question" id="q4">
        <div class="qtxt">4. A rope 3.5 m long is cut into 5 equal parts. Find the length of each part.</div>
        <div class="options">
          <label><input type="radio" name="q4" value="A"> A) 0.5 m</label>
          <label><input type="radio" name="q4" value="B"> B) 0.6 m</label>
          <label><input type="radio" name="q4" value="C"> C) 0.7 m</label>
          <label><input type="radio" name="q4" value="D"> D) 0.8 m</label>
        </div>
      </div>

      <!-- 5 -->
      <div class="question" id="q5">
        <div class="qtxt">5. Which of the following is equal to 0.375?</div>
        <div class="options">
          <label><input type="radio" name="q5" value="A"> A) 3/8</label>
          <label><input type="radio" name="q5" value="B"> B) 5/8</label>
          <label><input type="radio" name="q5" value="C"> C) 7/8</label>
          <label><input type="radio" name="q5" value="D"> D) 1/3</label>
        </div>
      </div>

      <!-- 6 -->
      <div class="question" id="q6">
        <div class="qtxt">6. The difference between 5.83 and 2.47 is:</div>
        <div class="options">
          <label><input type="radio" name="q6" value="A"> A) 3.46</label>
          <label><input type="radio" name="q6" value="B"> B) 3.36</label>
          <label><input type="radio" name="q6" value="C"> C) 3.56</label>
          <label><input type="radio" name="q6" value="D"> D) 3.44</label>
        </div>
      </div>

      <!-- 7 -->
      <div class="question" id="q7">
        <div class="qtxt">7. Convert 7/20 into a decimal:</div>
        <div class="options">
          <label><input type="radio" name="q7" value="A"> A) 0.25</label>
          <label><input type="radio" name="q7" value="B"> B) 0.30</label>
          <label><input type="radio" name="q7" value="C"> C) 0.35</label>
          <label><input type="radio" name="q7" value="D"> D) 0.40</label>
        </div>
      </div>

      <!-- 8 -->
      <div class="question" id="q8">
        <div class="qtxt">8. The perimeter of a square is 48 cm. Its area is:</div>
        <div class="options">
          <label><input type="radio" name="q8" value="A"> A) 64 cm²</label>
          <label><input type="radio" name="q8" value="B"> B) 96 cm²</label>
          <label><input type="radio" name="q8" value="C"> C) 144 cm²</label>
          <label><input type="radio" name="q8" value="D"> D) 36 cm²</label>
        </div>
      </div>

      <!-- 9 -->
      <div class="question" id="q9">
        <div class="qtxt">9. A rectangle has length 12 cm and width 8 cm. If both sides are increased by 2 cm, what is the new area?</div>
        <div class="options">
          <label><input type="radio" name="q9" value="A"> A) 100 cm²</label>
          <label><input type="radio" name="q9" value="B"> B) 112 cm²</label>
          <label><input type="radio" name="q9" value="C"> C) 140 cm²</label>
          <label><input type="radio" name="q9" value="D"> D) 160 cm²</label>
        </div>
      </div>

      <!-- 10 -->
      <div class="question" id="q10">
        <div class="qtxt">10. The side of a square is doubled. Its area becomes:</div>
        <div class="options">
          <label><input type="radio" name="q10" value="A"> A) 2 times</label>
          <label><input type="radio" name="q10" value="B"> B) 3 times</label>
          <label><input type="radio" name="q10" value="C"> C) 4 times</label>
          <label><input type="radio" name="q10" value="D"> D) 8 times</label>
        </div>
      </div>

      <!-- 11 -->
      <div class="question" id="q11">
        <div class="qtxt">11. Identify the 3-D shape with one curved surface and two flat circular faces.</div>
        <div class="options">
          <label><input type="radio" name="q11" value="A"> A) Cone</label>
          <label><input type="radio" name="q11" value="B"> B) Sphere</label>
          <label><input type="radio" name="q11" value="C"> C) Cylinder</label>
          <label><input type="radio" name="q11" value="D"> D) Cube</label>
        </div>
      </div>

      <!-- 12 -->
      <div class="question" id="q12">
        <div class="qtxt">12. Which solid can roll as well as slide?</div>
        <div class="options">
          <label><input type="radio" name="q12" value="A"> A) Cube</label>
          <label><input type="radio" name="q12" value="B"> B) Cone</label>
          <label><input type="radio" name="q12" value="C"> C) Cuboid</label>
          <label><input type="radio" name="q12" value="D"> D) Prism</label>
        </div>
      </div>

      <!-- 13 -->
      <div class="question" id="q13">
        <div class="qtxt">13. Number of books read: Riya 10, Karan 12, Meena 8, Raj 14. What is the average?</div>
        <div class="options">
          <label><input type="radio" name="q13" value="A"> A) 10</label>
          <label><input type="radio" name="q13" value="B"> B) 11</label>
          <label><input type="radio" name="q13" value="C"> C) 11.5</label>
          <label><input type="radio" name="q13" value="D"> D) 12</label>
        </div>
      </div>

      <!-- 14 -->
      <div class="question" id="q14">
        <div class="qtxt">14. In a survey, 25 students like Maths, 15 like Science and 10 like both. How many like either Maths or Science?</div>
        <div class="options">
          <label><input type="radio" name="q14" value="A"> A) 40</label>
          <label><input type="radio" name="q14" value="B"> B) 30</label>
          <label><input type="radio" name="q14" value="C"> C) 20</label>
          <label><input type="radio" name="q14" value="D"> D) 15</label>
        </div>
      </div>

      <!-- 15 -->
      <div class="question" id="q15">
        <div class="qtxt">15. Pictograph: 1 symbol = 5 apples. If there are 8 symbols, how many apples?</div>
        <div class="options">
          <label><input type="radio" name="q15" value="A"> A) 30</label>
          <label><input type="radio" name="q15" value="B"> B) 35</label>
          <label><input type="radio" name="q15" value="C"> C) 40</label>
          <label><input type="radio" name="q15" value="D"> D) 45</label>
        </div>
      </div>

      <!-- 16 -->
      <div class="question" id="q16">
        <div class="qtxt">16. The mean of 6, 8, 10, 12 and 14 is:</div>
        <div class="options">
          <label><input type="radio" name="q16" value="A"> A) 9</label>
          <label><input type="radio" name="q16" value="B"> B) 10</label>
          <label><input type="radio" name="q16" value="C"> C) 11</label>
          <label><input type="radio" name="q16" value="D"> D) 12</label>
        </div>
      </div>

      <!-- 17 -->
      <div class="question" id="q17">
        <div class="qtxt">17. If CAT = 24 and DOG = 26 (A=1, B=2, ...), then BAT = ?</div>
        <div class="options">
          <label><input type="radio" name="q17" value="A"> A) 22</label>
          <label><input type="radio" name="q17" value="B"> B) 23</label>
          <label><input type="radio" name="q17" value="C"> C) 24</label>
          <label><input type="radio" name="q17" value="D"> D) 25</label>
        </div>
      </div>

      <!-- 18 -->
      <div class="question" id="q18">
        <div class="qtxt">18. Find the missing number in the series: 3, 6, 12, 24, ___</div>
        <div class="options">
          <label><input type="radio" name="q18" value="A"> A) 36</label>
          <label><input type="radio" name="q18" value="B"> B) 48</label>
          <label><input type="radio" name="q18" value="C"> C) 46</label>
          <label><input type="radio" name="q18" value="D"> D) 60</label>
        </div>
      </div>

      <!-- 19 -->
      <div class="question" id="q19">
        <div class="qtxt">19. If 8 × 4 = 96, 6 × 3 = 54, then 5 × 2 = ? (use the same pattern)</div>
        <div class="options">
          <label><input type="radio" name="q19" value="A"> A) 20</label>
          <label><input type="radio" name="q19" value="B"> B) 25</label>
          <label><input type="radio" name="q19" value="C"> C) 30</label>
          <label><input type="radio" name="q19" value="D"> D) 40</label>
        </div>
      </div>

      <!-- 20 -->
      <div class="question" id="q20">
        <div class="qtxt">20. Which figure among the following is different from the others?</div>
        <div class="options">
          <label><input type="radio" name="q20" value="A"> A) Square</label>
          <label><input type="radio" name="q20" value="B"> B) Rectangle</label>
          <label><input type="radio" name="q20" value="C"> C) Triangle</label>
          <label><input type="radio" name="q20" value="D"> D) Circle</label>
        </div>
      </div>

    </form>

    <div class="actions">
      <button type="button" id="submitBtn">Submit & Show Score</button>
      <button type="button" id="resetBtn" class="secondary">Clear Answers</button>
      <div style="margin-left:auto;color:#334155">Total: 20 marks</div>
    </div>

    <div id="result" class="result" style="display:none"></div>

    <footer>
      Tip: You can open this file in any browser. The timer will auto-submit when time runs out. Good luck!
    </footer>
  </div>

  <!-- Share overlay (hidden) -->
  <div id="shareOverlay" class="share-overlay" style="display:none">
    <div class="share-card">
      <div style="font-weight:700">Share this quiz</div>
      <div class="muted" style="margin-top:6px">If automatic copying is not allowed in your browser, use the input below to copy the link manually.</div>
      <input id="shareLinkInput" class="share-input" readonly>
      <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
        <button id="copyManualBtn" type="button">Copy</button>
        <button id="closeShareBtn" type="button" class="secondary">Close</button>
      </div>
      <div id="shareHint" style="margin-top:8px;color:#0b1220;font-size:0.9rem"></div>
    </div>
  </div>

  <script>
    // Answer key
    const answers = { q1:'B', q2:'D', q3:'A', q4:'C', q5:'A', q6:'B', q7:'C', q8:'C', q9:'C', q10:'C', q11:'C', q12:'B', q13:'B', q14:'B', q15:'C', q16:'B', q17:'B', q18:'B', q19:'C', q20:'D' };

    // Timer
    const totalTime = 20*60; // seconds
    let timeLeft = totalTime;
    const timerEl = document.getElementById('timer');
    const form = document.getElementById('quizForm');
    const resultEl = document.getElementById('result');
    const submitBtn = document.getElementById('submitBtn');
    const resetBtn = document.getElementById('resetBtn');
    const shareBtn = document.getElementById('shareBtn');
    const hostBtn = document.getElementById('hostBtn');
    const shareMsg = document.getElementById('shareMsg');
    const shareOverlay = document.getElementById('shareOverlay');
    const shareLinkInput = document.getElementById('shareLinkInput');
    const copyManualBtn = document.getElementById('copyManualBtn');
    const closeShareBtn = document.getElementById('closeShareBtn');

    function formatTime(s){ const m=Math.floor(s/60); const sec=s%60; return `${String(m).padStart(2,'0')}:${String(sec).padStart(2,'0')}`; }

    timerEl.textContent = formatTime(timeLeft);
    const timerInterval = setInterval(()=>{
      timeLeft--; timerEl.textContent = formatTime(timeLeft);
      if(timeLeft<=0){ clearInterval(timerInterval); autoSubmit(); }
    },1000);

    // Scoring
    function scoreQuiz(){ let score=0; let details=[]; for(let i=1;i<=20;i++){ const name='q'+i; const checked=form.querySelector(`input[name="${name}"]:checked`); const user=checked?checked.value:null; const correct=answers[name]; if(user===correct) score++; details.push({q:i,user,correct}); } return {score,details}; }

    function showResult(res){ resultEl.style.display='block'; const percent=(res.score/20*100).toFixed(0); let html=`<div style="font-weight:700;font-size:1.05rem">✅ Quiz Submitted!<br>Score: ${res.score} / 20 (${percent}%)</div>`; html+='<div style="margin-top:8px">Review:</div><ol style="margin-top:8px">'; res.details.forEach(d=>{ const user=d.user?d.user:'<em>no answer</em>'; const mark=d.user===d.correct?'<span class="correct">Correct</span>':'<span class="wrong">Wrong</span>'; html+=`<li style="margin-top:6px">Q${d.q}: Your answer: ${user} — Correct: ${d.correct} — ${mark}</li>`; }); html+='</ol>'; resultEl.innerHTML = html; clearInterval(timerInterval); }

    function autoSubmit(){ submitBtn.disabled=true; showResult(scoreQuiz()); }

    submitBtn.addEventListener('click',()=>{ showResult(scoreQuiz()); submitBtn.disabled=true; });

    resetBtn.addEventListener('click',()=>{ form.reset(); resultEl.style.display='none'; submitBtn.disabled=false; timeLeft=totalTime; timerEl.textContent = formatTime(timeLeft); location.reload(); });

    // Share logic with graceful fallback
    function getShareLink(){
      // Default to current location; if hosted on GitHub Pages you can replace this with your GitHub Pages URL
      return (window.location.href || 'https://yourusername.github.io/olympiad-quiz/');
    }

    shareBtn.addEventListener('click',async ()=>{
      const link = getShareLink();
      // First try modern clipboard API
      try{
        if(navigator.clipboard && navigator.clipboard.writeText){
          await navigator.clipboard.writeText(link);
          shareMsg.textContent = '✅ Link copied to clipboard!';
          setTimeout(()=>shareMsg.textContent='',4000);
          return;
        }
        throw new Error('Clipboard API not available');
      }catch(err){
        // Fallback: show overlay with input so user can copy manually
        shareLinkInput.value = link;
        shareOverlay.style.display = 'flex';
        shareMsg.textContent = '';
      }
    });

    // Manual copy button uses document.execCommand('copy') as a fallback and handles failures
    copyManualBtn.addEventListener('click', ()=>{
      try{
        shareLinkInput.select();
        // For iOS
        shareLinkInput.setSelectionRange(0, 99999);
        const successful = document.execCommand('copy');
        if(successful){
          document.getElementById('shareHint').textContent = '✅ Link copied to clipboard.';
        } else {
          document.getElementById('shareHint').textContent = 'Copy failed — select the link above and press Ctrl+C (or Cmd+C).' ;
        }
      }catch(e){
        document.getElementById('shareHint').textContent = 'Copy not supported — select the link above and press Ctrl+C (or Cmd+C).';
      }
    });

    closeShareBtn.addEventListener('click', ()=>{ shareOverlay.style.display='none'; document.getElementById('shareHint').textContent=''; });

    hostBtn.addEventListener('click', ()=>{
      const instructions = `To host on GitHub Pages:\n1. Create a new public repository (e.g. "olympiad-quiz").\n2. Upload this HTML file as index.html to the repository's main branch.\n3. In repository Settings → Pages, set Source to main branch / root.\n4. After a minute, your site will be available at https://<your-username>.github.io/<repo-name>/`;
      alert(instructions);
    });

    // Warn before leaving the page during quiz
    window.addEventListener('beforeunload', (e)=>{ e.preventDefault(); e.returnValue = ''; });

  </script>
</body>
</html>
